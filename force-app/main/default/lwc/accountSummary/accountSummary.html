<template>
    <lightning-card title="Choose Account Name" icon-name="standard:account">
    
        <table>
            <tr>
                <td>
                
                    <div class="slds-m-around_medium">
                        <select class="slds-select" onchange={contactFetch}>
                        <option>Select Account</option>
                            <template for:each ={acc} for:item="item">
                                <option key={item.Id} value={item.Id}>{item.Name}</option>
                            </template>
                        </select>
                    </div>
                </td>
            </tr>
            <!-- <tr>
                <td>
                    <div class="slds-m-around_medium">
                            <h3><b>Account Summary</b></h3>
                            <template key={total}>
                               {total}
                            </template>
                        
                    </div>
                </td>
            </tr> -->
            <tr>
                <td>
                    <div class="slds-m-around_medium">
                            <u><h2><b>Related Contacts Information to this Account</b></h2></u>
                            <br>
                            <table class="table1">
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Email</th>
                                    </tr>
                                </thead>
                                <template for:each ={con} for:item="item">
                                    <tr key={item.Id}>
                                        <td>
                                            {item.Name}
                                        </td>
                                        
                                        <td>
                                            {item.Email}
                                        </td>
                                    </tr>
                                </template>
                            </table>
                    </div>
                </td>
            </tr>
        
            <tr>
                <td>
                    <div class="slds-m-around_medium">
                        
                            <u><h2><b>Related Opportunity Information to this Account</b></h2></u>
                            <br>
                            <table class="table1">
                                <thead>
                                    <tr>
                                        <th>Opportunity Name</th>
                                        <th>Stage</th>
                                    </tr>
                                </thead>
                                <template for:each ={opp} for:item="item">
                                    <tr key={item.Id}>
                                        <td>
                                            {item.Name}
                                        </td>
                                        
                                        <td>
                                            {item.StageName}
                                        </td>
                                    </tr>
                                </template>
                            </table>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="slds-m-around_medium">
                        
                            <u><h2><b>Number of Opportunites Information</b></h2></u>
                            <br>
                            <table class="table1">
                                <thead>
                                    <tr>
                                        <th>Closed Won :</th>
                                    </tr>
                                </thead>
                                <template for:each ={closedwonofopp} for:item="item">
                                    <tr key={item.Id}>
                                        <td>
                                            {item.Name}
                                        </td>
                                    </tr>
                                </template>
                            </table><br>
                            <table class="table1">
                                <thead>
                                    <tr>
                                        <th>Closed Lost :</th>
                                    </tr>
                                </thead>
                                <template for:each ={closedlostopp} for:item="item">
                                    <tr key={item.Id}>
                                        <td>
                                            {item.Name}
                                        </td>
                                    </tr>
                                </template>
                            </table>
                            <br>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="slds-m-around_medium">
                        
                            <u><h2><b>Related Amount Information to this Account</b></h2></u>
                            <br>
                            <table class="table1">
                                <thead>
                                    <tr>
                                        <th>Name :</th>
                                        <th>Amount :</th>
                                    </tr>
                                </thead>
                                <template for:each ={oppamount} for:item="item">
                                    <tr key={item.Id}>
                                        <td>
                                            {item.Name}
                                        </td>
                                        
                                        <td>
                                            {item.Amount}
                                        </td>
                                    </tr>
                                </template>
                            </table>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="slds-m-around_medium">
                        
                            <u><h2><b>Related Case Information to this Account</b></h2></u>
                            <br>
                            <table class="table1">
                                <thead>
                                    <tr>
                                        <th>Case Number :</th>
                                        <th>Status :</th>
                                    </tr>
                                </thead>
                                <template for:each ={cs} for:item="item">
                                    <tr key={item.Id}>
                                        <td>
                                            {item.CaseNumber}
                                        </td>
                                        
                                        <td>
                                            {item.Status}
                                        </td>
                                    </tr>
                                </template>
                            </table>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="slds-m-around_medium">
                        
                            <u><h2><b>Number of Cases Information</b></h2></u>
                            <br>
                            <table class="table1">
                                
                                    <tr>
                                        <th>Number of Closed Cases :</th>
                                    </tr>
                                
                                <template for:each ={noclosedcase} for:item="item">
                                    <tr key={item.Id}>
                                        <td>
                                            {item.CaseNumber}
                                        </td>
                                    </tr>
                                </template>
                            </table>
                            <br>
                            <table class="table1">
                                
                                    <tr>
                                        <th>Number of Open Cases :</th>
                                        
                                    </tr>
                                
                                <template for:each ={noopencase} for:item="item">
                                    <tr key={item.Id}>
                                        <td>
                                            {item.CaseNumber}
                                        </td>
                                        
                                        
                                    </tr>
                                </template>
                            </table>
                            <br>
                    </div>
                </td>
            </tr>
        </table>
        <lightning-card title="Update Account Record">
            <div class="slds-m-around_medium">

                <!-- To Update Record-->
                <lightning-textarea label="Enter the Financial Year" data-field="Financial_Year__c" 
                    class="slds-m-bottom_x-small"></lightning-textarea>
                    <lightning-textarea label="Enter the Full Year Target Revenue" data-field="Full_Year_Target_Revenue__c" 
                    class="slds-m-bottom_x-small"></lightning-textarea>
                    <lightning-textarea label="Enter the Campaign Budget" data-field="Campaign_Budget__c" 
                    class="slds-m-bottom_x-small"></lightning-textarea>
                <lightning-button variant="brand" label="Update Account" onclick={updateAccount} 
                    class="slds-m-left_x-small"></lightning-button>
            </div>
        </lightning-card>
    </lightning-card>
</template>